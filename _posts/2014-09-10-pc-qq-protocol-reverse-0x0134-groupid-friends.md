---
layout: post
title: "2014 6.1 IM UDP协议分析系列之0x0134【获取群内部ID和好友列表】篇"
description: ""
category: "协议分析"
tags: ["协议分析", "逆向"]
---
#####本文仅出于研究目的，如有法律风险，请联系删帖，谢绝跨市。 
<br/>
sendto:

	[NO.18 2014/9/9 14:46:27 sento 63字节]
	02
	35 2F
	01 34
	17 D7
	10 E3 C2 F7
	02 00 00 00 01 01 01 00 00 67 0A 
	
	0F 56 2D 5C 75 CA EA 38 
	D9 88 C7 EE 9F D7 57 BE AF 73 15 BE 41 BD B1 CC 
	6F 82 AC 06 00 65 46 0A 87 48 79 B1 BE F4 86 E6
	[
	00 00 00 00 00 00 00 00 
	
	//分页开始Index
	00 00 
	
	03 E8 00 10 00 00 
	00 00 00 00 00 00 00 00 00 00 00 00 00 00
	]
	03

recvfrom:

	[NO.19 2014/9/9 14:46:27 recvfrom 951字节]
	02
	35 2F
	01 34
	17 D7
	10 E3 C2 F7
	00 00 00

	20
	0A 67 53 18 3E 92 D8 FB 9A 7A 49 2E 59 67 E0 D5
	0D 35 1E D9 27 F0 F8 7C 65 5F 08 B2 FA E6 1B D9
	2E 32 D1 96 4E 7A 6D 58 4D D6 79 1B 55 74 AA 69
	CA 01 D1 F7 05 7A 12 3E 97 A5 C7 2B F6 24 F8 81
	70 88 E7 A1 34 CD E2 B9 3A 7A 7E BE 7C C9 CF A8
	C7 91 F9 6C D5 06 3F 12 7A E0 E0 04 2E 79 64 A3
	98 40 D1 18 BB 85 C5 8D C7 43 F6 22 46 B0 70 46
	8E BD BB A3 2E 8B 8D 0B 78 F9 A1 42 CA 36 3E 30
	9F D5 9C 13 82 94 54 1A 90 4C AC 42 35 D0 E9 13
	81 E3 89 1C 83 AC E8 59 E1 EE ED 50 55 F4 1E DC
	11 D1 9D B6 10 4D D0 1A B6 BA AD 0A F5 80 08 51
	85 C7 51 7B 0D 1A 5C AC 36 69 ED 82 7B 58 8D 65
	09 F5 56 ED 61 6E 43 15 5D BD 9B 98 44 2D 11 1F
	C3 2E AD 1E 23 DC BC CD F1 57 57 05 4E E5 30 0B
	1B A7 AC 13 13 DD 88 12 DB E9 F8 EF 44 91 99 C2
	E1 F8 62 66 A5 6E 99 37 BE F4 87 B4 01 63 08 9E
	67 7F 12 A9 18 50 1C AA 51 F4 59 03 64 DF 93 BB
	43 F6 1E C3 0D E1 9E 78 D2 59 BB DC 1A 53 AC 2B
	63 EF 74 5E 69 28 77 82 C3 80 3F 9F 2A 9B 85 E3
	DE B8 3B 2D 4B 63 DC 00 0C 03 A9 34 2A 20 43 02
	D1 54 09 2D 20 04 2C A8 53 C6 C5 6B A3 AB 57 55
	05 99 85 02 7D 7C 5E EE 7C 8E 21 D9 1A A9 B0 CD
	9D E0 08 ED B9 0A B3 D2 0F 08 26 65 14 7C B3 49
	6C 7F B6 EC 0D CF AF 52 8F 3E AA 46 6B 77 6E 09
	70 6F E5 F4 6A 52 94 31 3F A9 7E BF 95 D4 98 25
	50 4D F8 4B 29 F4 4C 10 BE 4B 24 0B C0 B8 27 F4
	99 8B D3 0C 34 3B CB 2B 1B FC BC C6 14 46 E0 16
	D8 11 45 D9 F0 07 30 71 BB 06 A0 AA 46 57 DB B8
	02 89 C1 10 50 46 1F 11 14 2F 3B 64 63 C0 BE 03
	9E E5 92 9F D9 A5 6A 5A 27 DB 83 2E 07 0E D6 A6
	11 9B 45 01 4D B3 C5 36 B9 75 CA 57 BF 7D 04 4A
	30 0B F1 B4 5C 88 B9 6F E5 A6 CC 45 3E 95 20 F6
	50 0D 46 66 5D 7A 0E 77 ED CA E3 67 33 80 82 A0
	AC B1 94 25 37 10 7B 5B 07 B3 DF D0 2A 4F B9 61
	17 70 3E 11 3F 77 AE 1B 47 99 84 34 F9 F7 EB E1
	D9 68 CA 40 1A 1A 44 51 ED 5A 86 4F 4D FA FD 75
	14 59 FB 9F D9 DD E8 B2 44 DE F1 9E A0 9C 46 C4
	47 B1 48 F2 ED 01 31 C9 7B 7A 3A A8 9D 96 95 82
	1C 7A C4 94 3D 95 96 8E B3 EF 68 86 83 59 2C 19
	86 C7 00 4D B6 94 E8 35 83 51 EE 75 57 78 E8 64
	B2 B1 35 4A FF 4D 45 5D 96 3E AE 48 86 B4 0A 99
	AD A7 FC 0E A5 16 D5 94 52 D3 58 B9 D0 81 08 AB
	06 9C D4 E8 1F 90 BD 77 45 49 11 AB 27 03 36 C2
	B9 78 4D 79 FD FE E7 9C 25 F1 1F 6D BE 59 43 C8
	33 41 EA 6D 9B FC 89 B7 C3 1F AD 54 D3 92 38 93
	D6 C6 C0 1A 8F 6B 8F 46 BC FD B7 C0 22 09 D1 BE
	16 49 FA CC DE C8 A1 10 FF 87 73 0D 88 3A 4D 25
	7B A9 11 55 90 84 4B 6D 18 18 C5 BE 16 22 80 4D
	3C C0 3E 9E 46 3C 3E 21 36 44 22 C8 39 59 A7 76
	84 D6 86 8F E0 B0 33 5B 16 B2 5F E9 FA BD 73 F7
	1E 34 72 75 F0 7B 09 38 8E B4 E9 82 C3 90 48 1F
	15 71 87 24 DB 8F 1A 09 72 2C B4 84 6F EE E1 8C
	D8 B2 19 F4 D9 5A 1F 51 C2 57 43 33 4B 07 34 85
	70 93 B7 2C 94 D3 2F F9 FB 19 8B 65 1E 43 71 69
	75 3A 57 6F B0 C1 8B AC 9F 34 79 30 BF 55 CA 31
	C8 38 58 78 25 36 8F 7A 93 11 3F 64 F8 D6 32 B0
	2B 87 7D 82 77 5A 12 5D 61 3C D0 88 51 CC 58 F7
	D6 D8 33 E1 C9 1E A1 AD 9A 4E 02 4B 86 1C 7E 9D
	6E 54 48 51 9D 81 69
	[
	00 01 77 00 00 07 18 

	//time
	54 0E A3 13 

	00 01 51 80 00 
	//分页开始Index
	00 00 
	//数据条数
	00 45 
	
	//如果有分页，下次发送的“分页开始Index”等于上次的加上这次的“数据条数”。

	//QQ号码
	XX XX XX XX
	01[01是QQ号码] 04 00 00 00 00 01 00 01[好友自定义分组编号]

	XX XX XX XX 
	01 18 00 00 00 00 01 00 06 

	//04开头是群内部ID，有2种格式数据
	//群内部ID
	XX XX XX XX
	04[04是群内部ID] 00 00 00 00 00 00 

	XX XX XX XX 
	04 04 00 00 00 00 01 00 01
	
	//下面格式重复的数据省略
	......
	
	//结束标记
	00 00
	]
	03