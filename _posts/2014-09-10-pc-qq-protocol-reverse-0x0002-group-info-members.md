---
layout: post
title: "2014 6.1 PC QQ UDP协议分析系列之0x0002【获取群信息及群成员列表】篇"
description: "pc qq 协议分析"
category: "协议分析"
tags: ["协议分析", "逆向"]
---
#####本文仅出于研究目的，如有法律风险，请联系删帖，谢绝跨市。 
<br/>
sendto:
	
	[NO.370 2014/9/9 14:49:56 sento 47字节]
	02
	35 2F
	00 02
	7C A3
	10 E3 C2 F7
	02 00 01 00 01 01 01 00 00 67 0A 
	
	8F FE EF AB D8 84 70 55 45
	7D E7 9F E2 98 82 5D 9E A4 0A 07 43 5C E2 C2
	[
	//子命令72
	72
	//群内部ID
	79 9F 0E 0E 
	//如果有分片，这里是最后一个群成员的QQ号码
	00 00 00 00
	]
	03
	
recvfrom:

	[NO.418 2014/9/9 14:49:56 recvfrom 215字节]
	02
	35 2F
	00 02
	7C A3
	10 E3 C2 F7
	00 00 00

	F6
	75 A1 49 57 CE 71 FC 5F FB 9F 62 FD 1A 02 81 B5
	67 CA 1B 9F 9E 2D B4 CB C1 7C 89 68 4E 91 9D 48
	BB 33 C6 A1 4D 99 E6 8A 2C 7F F2 1F 44 E9 E9 22
	48 EC 02 4B 8C 8E E4 BC 96 6A 68 E5 A8 74 F7 D9
	8A 76 01 A7 31 6A 36 53 5D 59 D2 BC 89 B4 35 25
	6A 6B B4 6F E4 2F C5 34 8A 74 56 87 95 98 2F 93
	89 97 C8 D3 09 B2 CA 61 C5 1A 8B 53 B2 BD 9C 2B
	A8 DC A0 14 1E F0 C8 EA 4B 62 67 C0 E3 C5 36 B3
	8C 7D CA 5B 34 1D 7B 05 83 D7 97 52 16 03 ED 5E
	66 C6 B8 68 94 92 8D 53 A6 E6 53 E2 F5 8C B7 5C
	2F 0B 8D 9D 71 30 D4 3D 59 DB 99 33 A1 29 9E 48
	68 84 16 8E EB B6 22 13 51 16 59 5F 65 EC 65 4D
	DB 72 8E 7A EA 81 47
	[
	72
	00

	//群内部ID
	79 9F 0E 0E 
	//群号码
	05 CF 3A 4E 

	00 00 00 03 01 01 00 00 01 00 20 00 40 

	//创建者QQ号码
	10 E3 C2 F7 

	02 00 00 00 00 00
	00 00 00 27 40 01 F4 01 00 00 00 01 00 00 01 BF

	//群名长度
	0A 
	//群名
	50 43 51 51 E5 8D 8F E8 AE AE 

	//群公共和群简介开始标记
	00 00 
	
	//群公告长度。（没填所以是00）
	00

	//群简介长度
	0F
	//群简介 最新协议6.1
	E6 9C 80 E6 96 B0 E5 8D 8F E8 AE AE 36 2E 31

	00 38
	76 5D 87 98 2F 90 73 6A 76 8B 75 DB 5F 8B 04 EF
	89 35 CD DA FC BA 85 AA 8B 3B 16 70 A9 02 59 6C
	27 E2 76 7B 81 87 DC 25 30 AD E4 71 91 D7 3A CD
	CE BD 88 EC BE 45 23 CE

	00 0A 00 00 00 00 02 00 03 00 02 00 01 00 04 00
	04 00 00 00

	01 
	//做分片标记的QQ
	B6 84 8C EF 
	00
	//创建者QQ 
	10 E3 C2 F7 

	//下面是群成员QQ。

	00 00 
	
	6D 13 47 20
	//如果是奇数就是管理员。
	00 00 
	
	6E 57 91 30 
	//如果是奇数就是管理员。
	00 00 
	
	//分片标记QQ
	B6 84 8C EF 

	//00 00是结束标记，如果不是00，就还有分片。
	00 00
	]
	03
	
这里给个分片的返回包格式：

	72
	00 

	//群内部ID
	0C 84 DB 75
	//群号码 
	XX XX XX XX 

	00 00 00 02
	 
	//做分片标记的QQ
	0F 6C CA 75 
	01 
	//创建者QQ
	01 C4 2C DA 

	00 C0
	
	01 D8 88 7C 
	00 00 
	
	01 E1 33 42 
	00 40 
	
	02 1D 79 A2 
	00 00 
	
	02 2D 45 8D
	00 00
	
	......

	0F 6C CA 75
	
	//不是00 00，表示下面还有分片
	00 40

